{% extends 'base.html' %}

{% block content %}
<div class="flex justify-end mb-4">
    <a href="/edit/{{ post_slug }}" class="btn btn-primary post-link flex items-center space-x-2"> 
        <i class="fas fa-edit"></i> <span>Edit Post</span> 
    </a>
</div>

    <article class="prose lg:prose-xl max-w-none mx-auto bg-white p-8 rounded-lg shadow-md">
        <h2 class="font-bold mb-4">{{ post['title'] }}</h2>
        <p class="text-gray-600 mb-6"><i>{{ post['short_desc'] }}</i></p>
        <div class="content">
            {{ post['content'] | safe }}
        </div>

        <div class="mt-4">
            <span class="text-gray-700 font-semibold">Tags: </span>
            {% for tag in post['tags'].split(',') if tag.strip() %}
                <a href="/tag/{{ tag.strip() }}" class="inline-block bg-violet-100 text-violet-700 no-underline rounded-full px-3 py-1 text-sm font-semibold mr-2 mb-1"> 
                    {{ tag.strip()  }}
                </a>
            {% endfor %}
        </div>
        <hr class="post-separator"> 
    </article>

    <div class="mt-8 flex justify-between items-center">
        <div>
            {% if prev_post_slug %}
            <a href="/post/{{ prev_post_slug }}" class="btn btn-secondary post-link flex items-center space-x-2">
                <i class="fas fa-arrow-left mr-1"></i> Previous Post
            </a>
            {% endif %}
        </div>
        <div>
            {% if next_post_slug %}
            <a href="/post/{{ next_post_slug }}" class="btn btn-secondary post-link flex items-center space-x-2">
                Next Post <i class="fas fa-arrow-right ml-1"></i>
            </a>
            {% endif %}
        </div>
    </div>

   
    <div class="mt-8">
        <h3 class="text-lg font-bold mb-4 text-gray-800">Related Posts</h3>
        <ul class="divide-y divide-gray-200 bg-white rounded-lg shadow-md p-4"> 
            {% for related_post in related_posts %}
                <li class="group py-3 px-4 hover:bg-gray-100 relative"> 
                    <a href="/post/{{ related_post.slug }}" class="text-violet-500 hover:text-violet-700 no-underline">
                        {{ related_post.title }}
                    </a>
                    <a href="/post/{{ related_post.slug }}" class="absolute inset-y-0 right-0 flex items-center pr-4 opacity-0 group-hover:opacity-100 transition duration-300 ease-in-out text-gray-600 hover:text-gray-800">
                        <i class="fas fa-arrow-right"></i>
                    </a>
                </li>
            {% endfor %}
        </ul>
    </div>
{% endblock %}